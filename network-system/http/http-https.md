---
layout: page
permalink: /network-system/http/http-https
---

## HTTPS

HTTPS在HTTP协议栈里，应用层和传输层添加了安全层

SSL(Secure Sockets Layer) or TLS(Transport Layer Security) 安全层

### 1. RSA非对称加密
公开公钥(PUblic-Key Infrastructure, PKI)，只能用私钥解密，反过来也行。
但是这个算法很慢。

### 2. 数字签名
签名是加了密的校验和，可以证明是作者编写了这条报文，可以防止报文被篡改。
通常使用非对称公开密钥技术产生的。

注:RSA的加解密和签名不一样

加解密 - KeyGen(密钥生成算法)，Encrypt(加密算法), Decrypt(解密算法)
签名   - KenGen(密钥生成算法), Sign(签名算法), Verify(验证算法)

### 3. 数字证书
证书的主要内容：
    
    * 对象的名称（人，服务器，组织等）
    * 过期时间
    * 证书发布者
    * 来自证书发布者的数字签名

目前主要使用X.509 v3证书

    * 版本
    * 序列号
    * 签名算法ID 用RSA加密的MD2摘要
    * 证书颁发者
    * 有效期
    * 对象名称
    * 对象的公开密钥信息
    * 发布都唯一的ID
    * 对象唯一的ID
    * 扩展
    * 证书的颁发机构签名

#### 3.1 数字证书认证
HTTPS客户端握手后，会获取服务器提供的数字证书，依次验证数字证书的有效性：
    
    1. 日期检测
    2. 签名颁发者可信度检测
    3. 签名检测
    4. 站点身份检测

#### 3.2 客户端证书
服务器为了验证是不是客户本人在操作，会提供客户私有证书。
只有在客户信任的机器上安装私有证书，才能与服务器进行交互。

