## 存储器
	存储器主要分为内部存储器和外部存储器

	内部存储器:寄存器,高级缓存,内存等.运行时保存数据.
	外部存储器:磁盘,磁带,光盘,硬盘等.可以长时间保存数据.

	我们知道计算机的体系是存储程序，顺序执行。所以在执行一个程序的指令时，它后面的指令有很大的可能在下一个指令周期被执行。
	而一个存储区被访问后，也可能在接下来的操作中再次被访问。这就是局部性的两种形式：
		* 时间局部性
		* 空间局部性

	对于现代计算机来说，无论是应用程序，操作系统，硬件的各个层次我们都是用了局部性。
		* 硬件：通过引入Cache存储器来保存最近访问的指令数据来提高对主存的访问速度。
		* 操作系统：允许是用主存作为虚拟地址空间被引用块的高速缓存以及从盘文件的块的高速缓存。
		* 应用程序：将一些远程服务比如HTTP Server的HTML页面缓存在本度的磁盘中。

	为了提高存储系统的性能(还有成本考虑),对存储系统进行分层实现,上级是下级的缓存.越上级存取越快,价格越贵,越下级存取越慢,价格越便宜.

### 1 相联存储器
	关联存储器，是一种不根据地址而是根据存储内容来进行存取的存储器，可以实现快速地查找快表.可以用在:
		* 高速缓冲存储器;
		* 虚拟存储器中用来作段表,页表或快表存储器;
		* 数据库和知识库.
	
	部件说明:
		1. 输入检索寄存器:存放检索的内容(关键字)
		2. 屏蔽寄存器:屏蔽不参与检索的字段
		3. 比较器:用检索关键字与存储体的每一个单元进行比较
		4. 存储体:存放信息
		5. 匹配寄存器:记录比较结果
		6. 数据寄存器:存放存储体某一个单元的内容
		7. 地址寄存器,地址译码器:提供地址查询功能

### 2 高速缓存
	高速缓存是用来存放当前最活跃的程序和数据,作为主存局部域的副本.
	高速缓存分为控制部分和Cache存储器部分:
		* 控制部分:判断CPU要访问的信息是否在Cache中,如果在就是命中返回,直接过Cache寻址;如果不在就是没有命中,需要按照替换原则决定内存中的
		  哪一块来替换Cache.
		* Cache部分:存放内存中某一块信息的副本.
	
#### 2.1 高速缓存地址映像
	在CPU工作时,送出的是主存的地址,而应从Cache存储器中读写信息.这就需要将主存地址转换成Cache存储器的地址,这就是地址映像.

	* 直接映像:主存的块与Cache中块的对应关系是固定的.优点是地址变换简单,缺点是灵活性差.
	* 全相联映像:主存与Cache分大小相同的块,以主存高地址来找Cache块编号,Cache块内地址就是主存的低位地址.优点是调入灵活;缺点是
	  变换复杂,速度慢
	* 组相联映像:把缓存分组,组用直接映像,块用全相联映像.是上面两种的折衷.

#### 2.2 替换算法
	替换算法的目标就是提高Cache的命中率:
	* 随机替换算法:就是用随机数发生器产生一个要替换的块号,将该块替换出去
	* 先进先出算法:就是将最先进入Cache的信息块替换出去.
	* 最近最少使用算法:将最近最少使用的块替换出去.
	* 优化替换算法:执行一个统计Cache的替换情况的程序.有了这个统计信息就可以用最有效的方法来替换.

#### 2.3 多级缓存
	Cache分为一级,二级,三级.一级速度最快,容量最小,价格最高;三级速度最慢,容量最大,价格最便宜.CPU会先取一级,再取二级,再取三级,只有都不
	命中才会请求主存.
	
### 分区表
	MBR:对分区使用32比特的标识符,每个分区被限制为2TB,分为3个部分(主分区,扩展分区
	,逻辑分区).引导记录使用512字节保存主分区信息,所以最多只能有4个主分区.如果要
	更多分区,需要把一个主分区转成扩展分区,然后在扩展分区里创建逻辑分区.

	GPT:对分区使用64比特的标识符,它用来存储分区信息的空间也远比MBR的512字节大
	,GPT也不对分区数量作限制,每个分区大小可以到8ZB.

	当操作系统和系统固件之间的软件接口是UEFI (相对于BIOS)时，GPT几乎是必选的，因
	为这里MBR会引起很多兼容性问题。

	GPT还利用校验和和冗余。 它携带CRC32校验和以检测报头和分区表中的错误，并在磁
	盘的末尾有一个备份GPT。 此备份表可用于恢复磁盘开头附近主GPT的损坏。

	如果在使用BIOS(非UEFI)计算机中使用GPT会存在一些问题,如不能和WINDOWS双引导,还
	有一些对疏导支持不好,可以把引导分区设置成Active,会强制以MBR方式读取.

