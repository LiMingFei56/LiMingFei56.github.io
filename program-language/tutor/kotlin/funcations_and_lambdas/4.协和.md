## 协程
协程比线程轻量.协程会使用多个线程或者进程来处理程序的异步执行,函数回调和订阅.还
有他们间的调度.

### 阻断与悬浮
协程不会阻塞线程,而是悬浮.悬浮可以由用户控制,可以使线程悬浮并让悬浮后再做一些事
情.

协程不会随便的悬浮,只有在悬浮点上调用特殊的标记.

当我们调用标记为"suspend "的函数时就会发生悬浮,这个被标记的函数被称为悬浮函数(标
准库会判断该函数的返回值是否可用,如果可用就不会发生悬浮).

悬浮函数跟普通函数一样有参数和返回值,但是是能在协程或其他悬浮函数中调用.

	fun <T> async(block: suspend () -> T)

*目前悬浮函数不支持类型参数和匿名函数.

悬浮函数是虚拟的,当重写悬浮函数时也要指定关键字"suspend"

### 阻止悬浮函数
扩展函数和lambda函数可以被标记为"suspend",但是库的作者有时候需要确保不能添加新的
悬浮函数.可以使用@RestrictsSuspension类

如果类或接口被注释为@RestrictsSuspension,所有的悬浮扩展必须委托给其他的成员或扩
展函数.因为扩展函数不能无限止的委托,这就保证了悬浮函数都在库的作者控制之内.

### 悬浮的实现
悬浮是通过编程技术实现,不依赖JVM或操作系统.内部保存了一个状态机来控制协程的悬浮
和

???

### 协程目前还是试验

建议协程的作者也添加到experimental包中.如com.example.experimental,当最终发布时就
复制到com.example中并保证experimental包向后兼容.


### 标准API
	
	- 语言支持(悬浮函数)
	- 底层核心API在kotlin标准库中
	- 可以直接在使用高级API

### 底层核心
底层核心较少,不建议直接用来创建高级库

	- `kotlin.coroutines.experimental` with main types and primitives such as:
		createCoroutine(),
		startCoroutine(),
		suspendCoroutine();
	- `kotlin.coroutines.experimental.intrinsics` with even lower-level
		 intrinsics such as suspendCoroutineOrReturn.

### Generators API in kotlin.coroutines
应用包`kotlin.coroutines.experimental`

	- buildSequence()
	- buildIterator()

	buildSequence是lazy的.

### Other high-level APIs: kotlinx.coroutine

