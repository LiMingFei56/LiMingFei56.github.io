---
layout: page
permalink: /program-language/assembly/address
---

## 内存地址

### 内存中字的存储
CPU中，用16位寄存器来存储一个字。高8位存放高位字节，低8位存放低位字节。内存中存储时，
是按照字节来存储的，则一个字要用两个地址连续的内存单元来存放，这个字的低位字节存放
在低位单元中，高位字节存放在高地址单元中。

字单元 - 存放一个字型数据的内存单元

因为寻址是按照字的大小来的，如果一个字不是对齐的，那么取一个字需要2次读取操作，所以
一般把内存地址按照字单元划分，就算一个数据大小为8字节，在内存中也占用一个字。

### 寻址

8086CPU中
CPU中的相关部件提供两个16位地址，1个是段地址，1个是偏移地址
实际地址 = 段地址 << 4 + 偏移地址 生成一个20位的物理地址最后通过地址总线

所以可以使用不同的组合得到相同的物理地址

取地址：段地址在DS中
1. 段前缀 - mov ax, ds:[bx]
2. 偏移地址 - [0]
3. 偏移地址 - [bx]
4. 偏移地址 - [bx + index]
5. 偏移地址 - [bx + si]
6. 偏移地址 - [bx + si + index]

### 段
`段`的概念不是内存的，是CPU的。因为物理地址是由段地址和偏移地址组成的，那么可以把段
地址分成一个个的段，而偏移地址就是段的大小

### 代码段
代码段：可以将长度为N(N <= 64KB)的一组代码，存在一组地址连续、起始地址为16的倍数的内存单元
中，我们可以认为，这段内存是用来存放代码的，从而定义了一个代码段

### 数据段
同代码段，只是存储的是数据信息

### 栈段
同代码段，只是存储栈的内容

### DS和[address]
8086CPU中DS寄存器，通常用来存放要访问数据的段地址，如果要读取10000H单元的内容，可以：

    mov bx, 1000H
    mov ds, bx
    mov al, [0]






